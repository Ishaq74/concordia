---
import BannerPage from '@templates/BannerPage.astro';
import { getEntryBySlug } from 'astro:content';
const post = await getEntryBySlug('blog', Astro.params.slug);
const t = await import('../../i18n/fr.json');

if (!post) {
  throw new Error('Post not found');
}

---

<BannerPage
  title={post.data.title}
  subtitle={post.data.excerpt}
  category={post.data.category}
  author={post.data.author}
  date={post.data.publishedAt?.toISOString()}
  featuredImg={post.data.cover}
  type="article"
  breadcrumbs={[
    { label: t.blog?.heading || 'Blog', href: '/fr/blog' },
    { label: post.data.category, href: `/fr/blog/categorie/${post.data.category}` }
  ]}
  color="primary"
/>

<article class="blog-post">
  <!-- contenu post.rendered etc. -->
</article>