---
import DocLayout from "@layouts/DocLayout.astro";
import { Code } from "astro:components";
import SkeletonComponent from "@components/ui/Skeleton.astro";
import TableOfContents from "@/components/templates/docs/TableOfContents.astro";
import Table from "@components/ui/Table/Table.astro";
import TableHeader from "@components/ui/Table/TableHeader.astro";
import TableBody from "@components/ui/Table/TableBody.astro";
import TableRow from "@components/ui/Table/TableRow.astro";
import TableHead from "@components/ui/Table/TableHead.astro";
import TableCell from "@components/ui/Table/TableCell.astro";
---

<DocLayout 
  title="Skeleton Component" 
  description="Placeholders de chargement avec variants et animations" 
  variant="initial"
>
  <h1 id="skeleton-component">Skeleton Component</h1>

  <p>
    Le composant <code class="inline-code">Skeleton</code> affiche des placeholders animés
    pendant le chargement du contenu. Il améliore l'expérience utilisateur en donnant un feedback
    visuel et en réduisant la perception du temps d'attente.
  </p>

  <TableOfContents
    items={[
      { label: "Installation", href: "#installation" },
      { label: "Props", href: "#props" },
      { label: "Utilisation basique", href: "#basic" },
      { label: "Variants", href: "#variants" },
      { label: "Formes", href: "#shapes" },
      { label: "Tailles personnalisées", href: "#sizes" },
      { label: "Multiples skeletons", href: "#multiple" },
      { label: "Compositions", href: "#compositions" },
      { label: "Accessibilité", href: "#accessibility" },
    ]}
    title="Table des matières"
  />

  <h2 id="installation">Installation</h2>

  <Code
    lang="astro"
    code={`import Skeleton from '@components/ui/Skeleton.astro';`}
  />

  <h2 id="props">Props</h2>

  <Table variant="initial">
    <TableHeader>
      <TableRow>
        <TableHead>Prop</TableHead>
        <TableHead>Type</TableHead>
        <TableHead>Default</TableHead>
        <TableHead>Description</TableHead>
      </TableRow>
    </TableHeader>
    <TableBody>
      <TableRow>
        <TableCell><code class="inline-code">variant</code></TableCell>
        <TableCell><code class="inline-code">"initial" | "retro" | "modern" | "futuristic"</code></TableCell>
        <TableCell><code class="inline-code">"initial"</code></TableCell>
        <TableCell>Le style visuel du skeleton</TableCell>
      </TableRow>
      <TableRow>
        <TableCell><code class="inline-code">width</code></TableCell>
        <TableCell><code class="inline-code">string</code></TableCell>
        <TableCell><code class="inline-code">undefined</code></TableCell>
        <TableCell>Largeur personnalisée (ex: "200px", "50%")</TableCell>
      </TableRow>
      <TableRow>
        <TableCell><code class="inline-code">height</code></TableCell>
        <TableCell><code class="inline-code">string</code></TableCell>
        <TableCell><code class="inline-code">undefined</code></TableCell>
        <TableCell>Hauteur personnalisée (ex: "20px", "3rem")</TableCell>
      </TableRow>
      <TableRow>
        <TableCell><code class="inline-code">circle</code></TableCell>
        <TableCell><code class="inline-code">boolean</code></TableCell>
        <TableCell><code class="inline-code">false</code></TableCell>
        <TableCell>Rend le skeleton circulaire</TableCell>
      </TableRow>
      <TableRow>
        <TableCell><code class="inline-code">rounded</code></TableCell>
        <TableCell><code class="inline-code">boolean</code></TableCell>
        <TableCell><code class="inline-code">false</code></TableCell>
        <TableCell>Applique des coins arrondis</TableCell>
      </TableRow>
      <TableRow>
        <TableCell><code class="inline-code">animated</code></TableCell>
        <TableCell><code class="inline-code">boolean</code></TableCell>
        <TableCell><code class="inline-code">true</code></TableCell>
        <TableCell>Active l'animation de pulsation</TableCell>
      </TableRow>
      <TableRow>
        <TableCell><code class="inline-code">count</code></TableCell>
        <TableCell><code class="inline-code">number</code></TableCell>
        <TableCell><code class="inline-code">1</code></TableCell>
        <TableCell>Nombre de skeletons à afficher</TableCell>
      </TableRow>
      <TableRow>
        <TableCell><code class="inline-code">className</code></TableCell>
        <TableCell><code class="inline-code">string</code></TableCell>
        <TableCell><code class="inline-code">""</code></TableCell>
        <TableCell>Classes CSS additionnelles</TableCell>
      </TableRow>
    </TableBody>
  </Table>

  <h2 id="basic">Utilisation basique</h2>

  <div class="demo-section">
    <SkeletonComponent />
    <SkeletonComponent width="80%" />
    <SkeletonComponent width="60%" />
  </div>

  <Code
    lang="astro"
    code={`<SkeletonComponent />
<SkeletonComponent width="80%" />
<SkeletonComponent width="60%" />`}
  />

  <h2 id="variants">Variants</h2>

  <h3>Initial</h3>
  <div class="demo-section">
    <SkeletonComponent variant="initial" height="60px" />
  </div>

  <Code
    lang="astro"
    code={`<SkeletonComponent variant="initial" height="60px" />`}
  />

  <h3>Retro</h3>
  <div class="demo-section">
    <SkeletonComponent variant="retro" height="60px" />
  </div>

  <Code
    lang="astro"
    code={`<SkeletonComponent variant="retro" height="60px" />`}
  />

  <h3>Modern</h3>
  <div class="demo-section">
    <SkeletonComponent variant="modern" height="60px" />
  </div>

  <Code
    lang="astro"
    code={`<SkeletonComponent variant="modern" height="60px" />`}
  />

  <h3>Futuristic</h3>
  <div class="demo-section">
    <SkeletonComponent variant="futuristic" height="60px" />
  </div>

  <Code
    lang="astro"
    code={`<SkeletonComponent variant="futuristic" height="60px" />`}
  />

  <h2 id="shapes">Formes</h2>

  <h3>Rectangulaire (par défaut)</h3>
  <div class="demo-section">
    <SkeletonComponent width="200px" height="100px" />
  </div>

  <Code
    lang="astro"
    code={`<SkeletonComponent width="200px" height="100px" />`}
  />

  <h3>Circulaire</h3>
  <div class="demo-section" style="display: flex; gap: 1rem; align-items: center;">
    <SkeletonComponent circle width="50px" height="50px" />
    <SkeletonComponent circle width="80px" height="80px" />
    <SkeletonComponent circle width="120px" height="120px" />
  </div>

  <Code
    lang="astro"
    code={`<SkeletonComponent circle width="50px" height="50px" />
<SkeletonComponent circle width="80px" height="80px" />
<SkeletonComponent circle width="120px" height="120px" />`}
  />

  <h3>Arrondi</h3>
  <div class="demo-section">
    <SkeletonComponent rounded width="200px" height="100px" />
  </div>

  <Code
    lang="astro"
    code={`<SkeletonComponent rounded width="200px" height="100px" />`}
  />

  <h2 id="sizes">Tailles personnalisées</h2>

  <div class="demo-section">
    <SkeletonComponent width="100%" height="20px" />
    <SkeletonComponent width="75%" height="20px" />
    <SkeletonComponent width="50%" height="20px" />
    <SkeletonComponent width="200px" height="150px" />
  </div>

  <Code
    lang="astro"
    code={`<SkeletonComponent width="100%" height="20px" />
<SkeletonComponent width="75%" height="20px" />
<SkeletonComponent width="50%" height="20px" />
<SkeletonComponent width="200px" height="150px" />`}
  />

  <h2 id="multiple">Multiples skeletons</h2>

  <p>
    Utilisez la prop <code class="inline-code">count</code> pour générer
    plusieurs skeletons identiques rapidement.
  </p>

  <div class="demo-section">
    <SkeletonComponent count={3} />
  </div>

  <Code
    lang="astro"
    code={`<SkeletonComponent count={3} />`}
  />

  <div class="demo-section">
    <SkeletonComponent count={5} width="80%" height="20px" />
  </div>

  <Code
    lang="astro"
    code={`<SkeletonComponent count={5} width="80%" height="20px" />`}
  />

  <h2 id="compositions">Compositions</h2>

  <h3>Card Skeleton</h3>
  <div class="demo-section">
    <div style="max-width: 300px; padding: 1.5rem; background: var(--color-surface); border-radius: var(--radius-lg);">
      <SkeletonComponent variant="modern" height="200px" rounded />
      <div style="margin-top: 1rem;">
        <SkeletonComponent variant="modern" height="24px" width="70%" />
        <SkeletonComponent variant="modern" height="16px" width="90%" count={2} />
      </div>
    </div>
  </div>

  <Code
    lang="astro"
    code={`<div style="max-width: 300px; padding: 1.5rem; background: var(--color-surface);">
  <SkeletonComponent variant="modern" height="200px" rounded />
  <div style="margin-top: 1rem;">
    <SkeletonComponent variant="modern" height="24px" width="70%" />
    <SkeletonComponent variant="modern" height="16px" width="90%" count={2} />
  </div>
</div>`}
  />

  <h3>User Profile Skeleton</h3>
  <div class="demo-section">
    <div style="display: flex; gap: 1rem; align-items: center; padding: 1rem; background: var(--color-surface); border-radius: var(--radius-lg);">
      <SkeletonComponent variant="futuristic" circle width="60px" height="60px" />
      <div style="flex: 1;">
        <SkeletonComponent variant="futuristic" height="20px" width="150px" />
        <SkeletonComponent variant="futuristic" height="16px" width="200px" />
      </div>
    </div>
  </div>

  <Code
    lang="astro"
    code={`<div style="display: flex; gap: 1rem; align-items: center;">
  <SkeletonComponent variant="futuristic" circle width="60px" height="60px" />
  <div style="flex: 1;">
    <SkeletonComponent variant="futuristic" height="20px" width="150px" />
    <SkeletonComponent variant="futuristic" height="16px" width="200px" />
  </div>
</div>`}
  />

  <h3>List Skeleton</h3>
  <div class="demo-section">
    <div style="background: var(--color-surface); border-radius: var(--radius-lg); padding: 1rem;">
      {[1, 2, 3, 4].map(() => (
        <div style="display: flex; gap: 1rem; align-items: center; margin-bottom: 1rem;">
          <SkeletonComponent variant="retro" circle width="40px" height="40px" />
          <div style="flex: 1;">
            <SkeletonComponent variant="retro" height="16px" width="60%" />
            <SkeletonComponent variant="retro" height="12px" width="40%" />
          </div>
        </div>
      ))}
    </div>
  </div>

  <Code
    lang="astro"
    code={`{[1, 2, 3, 4].map(() => (
  <div style="display: flex; gap: 1rem; align-items: center; margin-bottom: 1rem;">
    <SkeletonComponent variant="retro" circle width="40px" height="40px" />
    <div style="flex: 1;">
      <SkeletonComponent variant="retro" height="16px" width="60%" />
      <SkeletonComponent variant="retro" height="12px" width="40%" />
    </div>
  </div>
))}`}
  />

  <h3>Sans animation</h3>
  <div class="demo-section">
    <SkeletonComponent animated={false} height="40px" />
  </div>

  <Code
    lang="astro"
    code={`<SkeletonComponent animated={false} height="40px" />`}
  />

  <h2 id="accessibility">Accessibilité</h2>

  <p>
    Le composant <code class="inline-code">Skeleton</code> inclut les attributs ARIA appropriés :
  </p>

  <ul>
    <li>
      <code class="inline-code">aria-busy="true"</code> : indique que le contenu est en cours de chargement
    </li>
    <li>
      <code class="inline-code">aria-label="Chargement en cours"</code> : fournit une description textuelle
    </li>
  </ul>

  <p>
    Les technologies d'assistance annonceront que le contenu est en cours de chargement,
    aidant les utilisateurs à comprendre l'état de l'interface.
  </p>
</DocLayout>