---
import DocLayout from "@layouts/DocLayout.astro";
import ButtonComponent from "@components/ui/Button.astro";
import Table from "@components/ui/Table/Table.astro";
import TableHeader from "@components/ui/Table/TableHeader.astro";
import TableBody from "@components/ui/Table/TableBody.astro";
import TableRow from "@components/ui/Table/TableRow.astro";
import TableHead from "@components/ui/Table/TableHead.astro";
import TableCell from "@components/ui/Table/TableCell.astro";
import { Code } from "astro:components";
---

<DocLayout 
  title="Button Component" 
  description="Documentation complète du composant Button avec tous les variants et exemples"
  variant="initial"
>
  <h1 id="button-component">Button Component</h1>
  
  <p>
    Le composant <code class="inline-code">Button</code> est un bouton réutilisable qui supporte 4 variants visuels, 
    plusieurs couleurs, des icônes et une accessibilité totale.
  </p>

  <h2 id="installation">Installation</h2>
  
  <p>Le composant est disponible dans <code class="inline-code">src/components/ui/Button.astro</code></p>
  
  <Code
    lang="typescript"
    code={`import Button from '@components/ui/Button.astro';`}
  />

  <h2 id="props">Props</h2>

  <div class="props-table">
    <Table striped>
      <TableHeader>
        <TableRow>
          <TableHead>Prop</TableHead>
          <TableHead>Type</TableHead>
          <TableHead>Défaut</TableHead>
          <TableHead>Description</TableHead>
        </TableRow>
      </TableHeader>
      <TableBody>
        <TableRow>
          <TableCell><code class="inline-code">type</code></TableCell>
          <TableCell>button | submit | reset</TableCell>
          <TableCell>button</TableCell>
          <TableCell>Type du bouton HTML</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code class="inline-code">variant</code></TableCell>
          <TableCell>initial | retro | modern | futuristic</TableCell>
          <TableCell>initial</TableCell>
          <TableCell>Style visuel du bouton</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code class="inline-code">color</code></TableCell>
          <TableCell>default | primary | secondary | accent</TableCell>
          <TableCell>default</TableCell>
          <TableCell>Couleur du bouton</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code class="inline-code">disabled</code></TableCell>
          <TableCell>boolean</TableCell>
          <TableCell>false</TableCell>
          <TableCell>Désactive le bouton</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code class="inline-code">icon</code></TableCell>
          <TableCell>object</TableCell>
          <TableCell>-</TableCell>
          <TableCell>Icône (name et side: left | right)</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code class="inline-code">ariaLabel</code></TableCell>
          <TableCell>string</TableCell>
          <TableCell>-</TableCell>
          <TableCell>Label d'accessibilité ARIA</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code class="inline-code">className</code></TableCell>
          <TableCell>string</TableCell>
          <TableCell>-</TableCell>
          <TableCell>Classes CSS supplémentaires</TableCell>
        </TableRow>
      </TableBody>
    </Table>
  </div>

  <h2 id="variants">Les 4 Variants</h2>

  <h3>Initial (Défaut)</h3>
  <div class="example-section">
    <div class="button-group">
      <ButtonComponent variant="initial">Default</Button>
      <ButtonComponent variant="initial" color="primary">Primary</Button>
      <ButtonComponent variant="initial" color="secondary">Secondary</Button>
      <ButtonComponent variant="initial" color="accent">Accent</Button>
      <ButtonComponent variant="initial" disabled>Disabled</Button>
    </div>
  </div>

  <Code
    lang="astro"
    code={`<ButtonComponent variant="initial">Default</Button>
<ButtonComponent variant="initial" color="primary">Primary</Button>
<ButtonComponent variant="initial" color="secondary">Secondary</Button>
<ButtonComponent variant="initial" color="accent">Accent</Button>
<ButtonComponent variant="initial" disabled>Disabled</Button>`}
  />

  <h3>Retro</h3>
  <div class="example-section">
    <div class="button-group">
      <ButtonComponent variant="retro">Default</Button>
      <ButtonComponent variant="retro" color="primary">Primary</Button>
      <ButtonComponent variant="retro" color="secondary">Secondary</Button>
      <ButtonComponent variant="retro" color="accent">Accent</Button>
      <ButtonComponent variant="retro" disabled>Disabled</Button>
    </div>
  </div>

  <Code
    lang="astro"
    code={`<ButtonComponent variant="retro">Default</Button>
<ButtonComponent variant="retro" color="primary">Primary</Button>`}
  />

  <h3>Modern</h3>
  <div class="example-section">
    <div class="button-group">
      <ButtonComponent variant="modern">Default</Button>
      <ButtonComponent variant="modern" color="primary">Primary</Button>
      <ButtonComponent variant="modern" color="secondary">Secondary</Button>
      <ButtonComponent variant="modern" color="accent">Accent</Button>
      <ButtonComponent variant="modern" disabled>Disabled</Button>
    </div>
  </div>

  <Code
    lang="astro"
    code={`<ButtonComponent variant="modern">Default</Button>
<ButtonComponent variant="modern" color="primary">Primary</Button>`}
  />

  <h3>Futuristic</h3>
  <div class="example-section">
    <div class="button-group">
      <ButtonComponent variant="futuristic">Default</Button>
      <ButtonComponent variant="futuristic" color="primary">Primary</Button>
      <ButtonComponent variant="futuristic" color="secondary">Secondary</Button>
      <ButtonComponent variant="futuristic" color="accent">Accent</Button>
      <ButtonComponent variant="futuristic" disabled>Disabled</Button>
    </div>
  </div>

  <Code
    lang="astro"
    code={`<ButtonComponent variant="futuristic">Default</Button>
<ButtonComponent variant="futuristic" color="primary">Primary</Button>`}
  />

  <h2 id="types">Types de boutons</h2>

  <div class="example-section">
    <div class="button-group">
      <ButtonComponent type="button" color="primary">Type: Button</Button>
      <ButtonComponent type="submit" color="secondary">Type: Submit</Button>
      <ButtonComponent type="reset" color="accent">Type: Reset</Button>
    </div>
  </div>

  <Code
    lang="astro"
    code={`<ButtonComponent type="button">Type: Button</Button>
<ButtonComponent type="submit">Type: Submit</Button>
<ButtonComponent type="reset">Type: Reset</Button>`}
  />

  <h2 id="icons">Boutons avec icônes</h2>

  <h3>Icône à gauche</h3>
  <div class="example-section">
    <div class="button-group">
      <ButtonComponent 
        variant="initial" 
        color="primary"
        icon={{ name: 'mdi:download', side: 'left' }}
      >
        Télécharger
      </Button>
      
      <ButtonComponent 
        variant="retro" 
        color="secondary"
        icon={{ name: 'mdi:upload', side: 'left' }}
      >
        Uploader
      </Button>
      
      <ButtonComponent 
        variant="modern" 
        color="accent"
        icon={{ name: 'mdi:heart', side: 'left' }}
      >
        J'aime
      </Button>
      
      <ButtonComponent 
        variant="futuristic" 
        color="primary"
        icon={{ name: 'mdi:rocket-launch', side: 'left' }}
      >
        Lancer
      </Button>
    </div>
  </div>

  <Code
    lang="astro"
    code={`<ButtonComponent 
  variant="initial" 
  color="primary"
  icon={{ name: 'mdi:download', side: 'left' }}
>
  Télécharger
</Button>`}
  />

  <h3>Icône à droite</h3>
  <div class="example-section">
    <div class="button-group">
      <ButtonComponent 
        variant="initial" 
        color="primary"
        icon={{ name: 'mdi:arrow-right', side: 'right' }}
      >
        Suivant
      </Button>
      
      <ButtonComponent 
        variant="retro" 
        color="secondary"
        icon={{ name: 'mdi:chevron-right', side: 'right' }}
      >
        Continuer
      </Button>
      
      <ButtonComponent 
        variant="modern" 
        color="accent"
        icon={{ name: 'mdi:send', side: 'right' }}
      >
        Envoyer
      </Button>
      
      <ButtonComponent 
        variant="futuristic" 
        color="primary"
        icon={{ name: 'mdi:lightning-bolt', side: 'right' }}
      >
        Activer
      </Button>
    </div>
  </div>

  <Code
    lang="astro"
    code={`<ButtonComponent 
  variant="initial" 
  color="primary"
  icon={{ name: 'mdi:arrow-right', side: 'right' }}
>
  Suivant
</Button>`}
  />

  <h3>Bouton icône seule</h3>
  <div class="example-section">
    <div class="button-group">
      <ButtonComponent 
        variant="initial" 
        icon={{ name: 'mdi:close' }}
        ariaLabel="Fermer"
      />
      
      <ButtonComponent 
        variant="retro" 
        color="primary"
        icon={{ name: 'mdi:pencil' }}
        ariaLabel="Éditer"
      />
      
      <ButtonComponent 
        variant="modern" 
        color="secondary"
        icon={{ name: 'mdi:delete' }}
        ariaLabel="Supprimer"
      />
      
      <ButtonComponent 
        variant="futuristic" 
        color="accent"
        icon={{ name: 'mdi:cog' }}
        ariaLabel="Paramètres"
      />
    </div>
  </div>

  <Code
    lang="astro"
    code={`<ButtonComponent 
  variant="initial" 
  icon={{ name: 'mdi:close' }}
  ariaLabel="Fermer"
/>`}
  />

  <h2 id="states">États des boutons</h2>

  <h3>Disabled</h3>
  <div class="example-section">
    <div class="button-group">
      <ButtonComponent variant="initial" color="primary" disabled>Initial Disabled</Button>
      <ButtonComponent variant="retro" color="primary" disabled>Retro Disabled</Button>
      <ButtonComponent variant="modern" color="primary" disabled>Modern Disabled</Button>
      <ButtonComponent variant="futuristic" color="primary" disabled>Futuristic Disabled</Button>
    </div>
  </div>

  <Code
    lang="astro"
    code={`<ButtonComponent variant="initial" color="primary" disabled>
  Bouton désactivé
</Button>`}
  />

  <h2 id="examples">Exemples d'usage</h2>

  <h3>Formulaire de connexion</h3>
  <div class="example-section">
    <form style="max-width: 400px;">
      <div style="margin-bottom: 1rem;">
        <label for="email-example" style="display: block; margin-bottom: 0.5rem;">Email</label>
        <input id="email-example" type="email" placeholder="vous@exemple.com" style="width: 100%;" />
      </div>
      <div style="margin-bottom: 1rem;">
        <label for="password-example" style="display: block; margin-bottom: 0.5rem;">Mot de passe</label>
        <input id="password-example" type="password" placeholder="••••••••" style="width: 100%;" />
      </div>
      <div style="display: flex; gap: 0.5rem;">
        <ButtonComponent type="submit" variant="initial" color="primary">
          Se connecter
        </Button>
        <ButtonComponent type="reset" variant="initial">
          Réinitialiser
        </Button>
      </div>
    </form>
  </div>

  <Code
    lang="astro"
    code={`<form>
  <ButtonComponent type="submit" variant="initial" color="primary">
    Se connecter
  </Button>
  <ButtonComponent type="reset" variant="initial">
    Réinitialiser
  </Button>
</form>`}
  />

  <h3>Boutons d'action</h3>
  <div class="example-section">
    <div class="button-group">
      <ButtonComponent 
        variant="modern" 
        color="primary"
        icon={{ name: 'mdi:plus', side: 'left' }}
      >
        Créer
      </Button>
      
      <ButtonComponent 
        variant="modern" 
        color="secondary"
        icon={{ name: 'mdi:pencil', side: 'left' }}
      >
        Modifier
      </Button>
      
      <ButtonComponent 
        variant="modern" 
        color="accent"
        icon={{ name: 'mdi:delete', side: 'left' }}
      >
        Supprimer
      </Button>
    </div>
  </div>

  <h3>Boutons de navigation</h3>
  <div class="example-section">
    <div class="button-group">
      <ButtonComponent 
        variant="retro"
        icon={{ name: 'mdi:arrow-left', side: 'left' }}
      >
        Précédent
      </Button>
      
      <ButtonComponent 
        variant="retro" 
        color="primary"
        icon={{ name: 'mdi:arrow-right', side: 'right' }}
      >
        Suivant
      </Button>
    </div>
  </div>

  <h2 id="accessibility">Accessibilité</h2>

  <ul>
    <li><strong>Attribut type</strong>: Spécifier le type approprié (button/submit/reset)</li>
    <li><strong>ariaLabel</strong>: Obligatoire pour boutons icône seule</li>
    <li><strong>disabled</strong>: Désactive le bouton et le rend inaccessible</li>
    <li><strong>Focus visible</strong>: États de focus clairs sur tous les variants</li>
    <li><strong>Contraste</strong>: Respect des ratios WCAG AA</li>
  </ul>

  <Code
    lang="astro"
    code={`<ButtonComponent 
  icon={{ name: 'mdi:close' }}
  ariaLabel="Fermer la fenêtre"
/>`}
  />

  <h2 id="best-practices">Meilleures pratiques</h2>

  <ul>
    <li>Utiliser <code class="inline-code">type="submit"</code> pour les boutons de soumission de formulaire</li>
    <li>Toujours fournir <code class="inline-code">ariaLabel</code> pour les boutons sans texte</li>
    <li>Utiliser les couleurs de manière cohérente (primary pour action principale, etc.)</li>
    <li>Éviter trop d'icônes, utiliser avec parcimonie</li>
    <li>Garder le même variant dans toute l'interface</li>
    <li>Désactiver les boutons plutôt que de les masquer pendant les actions</li>
  </ul>

  <h2 id="css">Personnalisation CSS</h2>

  <p>
    Le composant utilise les tokens CSS définis dans le design system. 
    Les styles sont définis dans <code class="inline-code">src/styles/components/</code> pour chaque variant.
  </p>

  <h3>Variables CSS utilisées</h3>
  <ul>
    <li><code class="inline-code">--button-padding-y</code></li>
    <li><code class="inline-code">--button-padding-x</code></li>
    <li><code class="inline-code">--button-border-radius</code></li>
    <li><code class="inline-code">--button-font-size</code></li>
    <li><code class="inline-code">--button-primary-bg</code></li>
    <li><code class="inline-code">--button-primary-color</code></li>
    <li>Et plus...</li>
  </ul>

  <h2>Comparaison avec Link</h2>

  <p>
    Le composant <code class="inline-code">Button</code> est similaire à <code class="inline-code">Link</code> 
    mais toujours rendu comme un élément <code class="inline-code">&lt;button&gt;</code>. 
    Utilisez <code class="inline-code">Link</code> avec <code class="inline-code">style="button"</code> 
    pour des boutons qui sont en réalité des liens de navigation.
  </p>

  <div class="comparison-table">
    <Table striped>
      <TableHeader>
        <TableRow>
          <TableHead>Cas d'usage</TableHead>
          <TableHead>Composant à utiliser</TableHead>
        </TableRow>
      </TableHeader>
      <TableBody>
        <TableRow>
          <TableCell>Soumettre un formulaire</TableCell>
          <TableCell><code class="inline-code">Button type="submit"</code></TableCell>
        </TableRow>
        <TableRow>
          <TableCell>Action JavaScript</TableCell>
          <TableCell><code class="inline-code">Button</code></TableCell>
        </TableRow>
        <TableRow>
          <TableCell>Navigation vers une page</TableCell>
          <TableCell><code class="inline-code">Link style="button"</code></TableCell>
        </TableRow>
        <TableRow>
          <TableCell>Lien externe</TableCell>
          <TableCell><code class="inline-code">Link external</code></TableCell>
        </TableRow>
      </TableBody>
    </Table>
  </div>
</DocLayout>