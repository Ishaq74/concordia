---
import DocLayout from "@layouts/DocLayout.astro";
import { Code } from "astro:components";
import TooltipComponent from "@components/ui/Tooltip.astro";
import Button from "@components/ui/Button.astro";
import Badge from "@components/ui/Badge.astro";
import TableOfContents from "@/components/templates/docs/TableOfContents.astro";
import Table from "@components/ui/Table/Table.astro";
import TableHeader from "@components/ui/Table/TableHeader.astro";
import TableBody from "@components/ui/Table/TableBody.astro";
import TableRow from "@components/ui/Table/TableRow.astro";
import TableHead from "@components/ui/Table/TableHead.astro";
import TableCell from "@components/ui/Table/TableCell.astro";
---

<DocLayout 
  title="Tooltip Component" 
  description="Documentation du composant Tooltip pour afficher des infobulles contextuelles au survol"
  variant="initial"
>
  <h1 id="tooltip-component">Tooltip Component</h1>
  
  <p>
    Le composant <code class="inline-code">Tooltip</code> affiche une infobulle contextuelle 
    au survol ou au focus d'un élément pour fournir des informations supplémentaires.
  </p>

  <TableOfContents
    items={[
      { label: "Installation", href: "#installation" },
      { label: "Props", href: "#props" },
      { label: "Utilisation basique", href: "#basic" },
      { label: "Positions", href: "#positions" },
      { label: "Variants", href: "#variants" },
      { label: "Couleurs", href: "#colors" },
      { label: "Avec autres composants", href: "#with-components" },
      { label: "Accessibilité", href: "#accessibility" },
    ]}
    title="Table des matières"
  />

  <h2 id="installation">Installation</h2>

  <Code
    lang="astro"
    code={`import Tooltip from '@components/ui/Tooltip.astro';`}
  />

  <h2 id="props">Props</h2>

  <div class="props-table">
    <Table striped>
      <TableHeader>
        <TableRow>
          <TableHead>Prop</TableHead>
          <TableHead>Type</TableHead>
          <TableHead>Défaut</TableHead>
          <TableHead>Description</TableHead>
        </TableRow>
      </TableHeader>
      <TableBody>
        <TableRow>
          <TableCell><code class="inline-code">variant</code></TableCell>
          <TableCell>initial | retro | modern | futuristic</TableCell>
          <TableCell>initial</TableCell>
          <TableCell>Style visuel du tooltip</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code class="inline-code">color</code></TableCell>
          <TableCell>default | primary | secondary | accent</TableCell>
          <TableCell>default</TableCell>
          <TableCell>Couleur du tooltip</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code class="inline-code">text</code></TableCell>
          <TableCell>string</TableCell>
          <TableCell>-</TableCell>
          <TableCell>Texte de l'infobulle (requis)</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code class="inline-code">position</code></TableCell>
          <TableCell>top | bottom | left | right</TableCell>
          <TableCell>top</TableCell>
          <TableCell>Position du tooltip par rapport à l'élément</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code class="inline-code">className</code></TableCell>
          <TableCell>string</TableCell>
          <TableCell>""</TableCell>
          <TableCell>Classes CSS additionnelles</TableCell>
        </TableRow>
      </TableBody>
    </Table>
  </div>

  <h2 id="basic">Utilisation basique</h2>

  <p>Enroulez n'importe quel contenu dans un Tooltip pour afficher une infobulle au survol :</p>

  <div class="example-section">
    <div style="display: flex; gap: 2rem; flex-wrap: wrap;">
      <TooltipComponent text="Ceci est une infobulle">
        <span style="border-bottom: 1px dashed var(--text-muted);">Survolez-moi</span>
      </TooltipComponent>
      
      <TooltipComponent text="Information importante">
        <Button>Bouton avec tooltip</Button>
      </TooltipComponent>
      
      <TooltipComponent text="Statut actif">
        <Badge color="primary">Actif</Badge>
      </TooltipComponent>
    </div>
  </div>

  <Code
    lang="astro"
    code={`<TooltipComponent text="Ceci est une infobulle">
  <span>Survolez-moi</span>
</TooltipComponent>

<TooltipComponent text="Information importante">
  <Button>Bouton avec tooltip</Button>
</TooltipComponent>`}
  />

  <h2 id="positions">Positions</h2>

  <p>Le tooltip peut être positionné en haut, en bas, à gauche ou à droite de l'élément :</p>

  <div class="example-section">
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 2rem; padding: 3rem;">
      <TooltipComponent text="Position en haut" position="top">
        <Button>Top</Button>
      </TooltipComponent>
      
      <TooltipComponent text="Position en bas" position="bottom">
        <Button>Bottom</Button>
      </TooltipComponent>
      
      <TooltipComponent text="Position à gauche" position="left">
        <Button>Left</Button>
      </TooltipComponent>
      
      <TooltipComponent text="Position à droite" position="right">
        <Button>Right</Button>
      </TooltipComponent>
    </div>
  </div>

  <Code
    lang="astro"
    code={`<TooltipComponent text="Position en haut" position="top">
  <Button>Top</Button>
</TooltipComponent>

<TooltipComponent text="Position en bas" position="bottom">
  <Button>Bottom</Button>
</TooltipComponent>

<TooltipComponent text="Position à gauche" position="left">
  <Button>Left</Button>
</TooltipComponent>

<TooltipComponent text="Position à droite" position="right">
  <Button>Right</Button>
</TooltipComponent>`}
  />

  <h2 id="variants">Variants</h2>

  <h3>Initial (défaut)</h3>
  <div class="example-section">
    <TooltipComponent variant="initial" text="Tooltip avec variant initial">
      <Button variant="initial">Hover me (Initial)</Button>
    </TooltipComponent>
  </div>

  <h3>Retro</h3>
  <div class="example-section">
    <TooltipComponent variant="retro" text="Tooltip pixelisé style années 80">
      <Button variant="retro">Hover me (Retro)</Button>
    </TooltipComponent>
  </div>

  <h3>Modern</h3>
  <div class="example-section">
    <TooltipComponent variant="modern" text="Tooltip minimaliste avec backdrop blur">
      <Button variant="modern">Hover me (Modern)</Button>
    </TooltipComponent>
  </div>

  <h3>Futuristic</h3>
  <div class="example-section">
    <TooltipComponent variant="futuristic" text="Tooltip cyberpunk avec effet néon">
      <Button variant="futuristic">Hover me (Futuristic)</Button>
    </TooltipComponent>
  </div>

  <Code
    lang="astro"
    code={`<TooltipComponent variant="initial" text="Tooltip initial">
  <Button variant="initial">Initial</Button>
</TooltipComponent>

<TooltipComponent variant="retro" text="Tooltip retro">
  <Button variant="retro">Retro</Button>
</TooltipComponent>

<TooltipComponent variant="modern" text="Tooltip modern">
  <Button variant="modern">Modern</Button>
</TooltipComponent>

<TooltipComponent variant="futuristic" text="Tooltip futuristic">
  <Button variant="futuristic">Futuristic</Button>
</TooltipComponent>`}
  />

  <h2 id="colors">Couleurs</h2>

  <p>Les tooltips peuvent avoir différentes couleurs pour indiquer le type d'information :</p>

  <div class="example-section">
    <div style="display: flex; gap: 2rem; flex-wrap: wrap;">
      <TooltipComponent color="default" text="Information par défaut">
        <Button>Default</Button>
      </TooltipComponent>
      
      <TooltipComponent color="primary" text="Information primaire">
        <Button color="primary">Primary</Button>
      </TooltipComponent>
      
      <TooltipComponent color="secondary" text="Information secondaire">
        <Button color="secondary">Secondary</Button>
      </TooltipComponent>
      
      <TooltipComponent color="accent" text="Attention ou alerte">
        <Button color="accent">Accent</Button>
      </TooltipComponent>
    </div>
  </div>

  <Code
    lang="astro"
    code={`<TooltipComponent color="default" text="Information par défaut">
  <Button>Default</Button>
</TooltipComponent>

<TooltipComponent color="primary" text="Information primaire">
  <Button color="primary">Primary</Button>
</TooltipComponent>

<TooltipComponent color="secondary" text="Information secondaire">
  <Button color="secondary">Secondary</Button>
</TooltipComponent>

<TooltipComponent color="accent" text="Attention ou alerte">
  <Button color="accent">Accent</Button>
</TooltipComponent>`}
  />

  <h2 id="with-components">Avec autres composants</h2>

  <p>Le Tooltip fonctionne avec tous les composants du design system :</p>

  <div class="example-section">
    <div style="display: flex; gap: 2rem; flex-wrap: wrap; align-items: center;">
      <TooltipComponent text="Badge avec infobulle">
        <Badge color="primary">Badge</Badge>
      </TooltipComponent>
      
      <TooltipComponent text="Cliquez pour enregistrer" position="bottom">
        <Button color="primary">Enregistrer</Button>
      </TooltipComponent>
      
      <TooltipComponent text="Action dangereuse" position="right">
        <Button color="accent">Supprimer</Button>
      </TooltipComponent>

      <TooltipComponent text="Version 2.5.0" position="left">
        <Badge color="secondary">v2.5.0</Badge>
      </TooltipComponent>
    </div>
  </div>

  <Code
    lang="astro"
    code={`<TooltipComponent text="Badge avec infobulle">
  <Badge color="primary">Badge</Badge>
</TooltipComponent>

<TooltipComponent text="Cliquez pour enregistrer" position="bottom">
  <Button color="primary">Enregistrer</Button>
</TooltipComponent>`}
  />

  <h2 id="accessibility">Accessibilité</h2>

  <ul>
    <li><strong>Role ARIA :</strong> Le tooltip utilise <code class="inline-code">role="tooltip"</code></li>
    <li><strong>Keyboard :</strong> Affichage au focus (Tab) et masquage au blur</li>
    <li><strong>Hover & Focus :</strong> Fonctionne à la souris et au clavier</li>
    <li><strong>Cursor :</strong> Cursor help pour indiquer la présence d'information</li>
    <li><strong>Z-index élevé :</strong> S'affiche au-dessus de tout autre contenu (z-index: 9999)</li>
    <li><strong>Pointer-events :</strong> Le tooltip n'interfère pas avec les interactions</li>
  </ul>

  <h2>Meilleures pratiques</h2>

  <ul>
    <li><strong>Texte court :</strong> Limitez le texte à une phrase ou deux</li>
    <li><strong>Information complémentaire :</strong> Ne mettez pas d'informations critiques uniquement dans un tooltip</li>
    <li><strong>Position intelligente :</strong> Choisissez la position pour éviter de sortir de l'écran</li>
    <li><strong>Cohérence :</strong> Utilisez le même variant que vos autres composants</li>
    <li><strong>Mobile :</strong> Sur mobile, préférez des solutions alternatives (les tooltips au hover ne fonctionnent pas bien)</li>
  </ul>

  <h2>Exemple complet</h2>

  <div class="example-section">
    <div style="display: flex; flex-direction: column; gap: 2rem; max-width: 600px;">
      <div style="display: flex; gap: 1rem; align-items: center;">
        <TooltipComponent text="Enregistrer les modifications" position="top">
          <Button color="primary">Enregistrer</Button>
        </TooltipComponent>
        
        <TooltipComponent text="Annuler et revenir en arrière" position="top">
          <Button>Annuler</Button>
        </TooltipComponent>
        
        <TooltipComponent text="Supprimer définitivement (irréversible)" position="top">
          <Button color="accent">Supprimer</Button>
        </TooltipComponent>
      </div>

      <div style="border: 1px solid var(--border-default); padding: 1rem; border-radius: var(--border-radius-md);">
        <p style="margin: 0;">
          Utilisateur : 
          <TooltipComponent text="John Doe - Administrateur" position="right">
            <strong style="border-bottom: 1px dashed var(--text-muted);">John Doe</strong>
          </TooltipComponent>
        </p>
        <p style="margin: 0.5rem 0 0 0;">
          Statut : 
          <TooltipComponent text="Compte actif depuis 2024" position="right">
            <Badge color="primary">Actif</Badge>
          </TooltipComponent>
        </p>
      </div>
    </div>
  </div>

  <Code
    lang="astro"
    code={`<div>
  <TooltipComponent text="Enregistrer les modifications" position="top">
    <Button color="primary">Enregistrer</Button>
  </TooltipComponent>
  
  <TooltipComponent text="Annuler et revenir en arrière" position="top">
    <Button>Annuler</Button>
  </TooltipComponent>
</div>

<p>
  Utilisateur : 
  <TooltipComponent text="John Doe - Administrateur" position="right">
    <strong>John Doe</strong>
  </TooltipComponent>
</p>`}
  />
</DocLayout>
