---
import DocLayout from "@layouts/DocLayout.astro";
import AlertComponent from "@components/ui/Alert.astro";
import { Code } from "astro:components";
import Table from "@components/ui/Table/Table.astro";
import TableHeader from "@components/ui/Table/TableHeader.astro";
import TableBody from "@components/ui/Table/TableBody.astro";
import TableRow from "@components/ui/Table/TableRow.astro";
import TableHead from "@components/ui/Table/TableHead.astro";
import TableCell from "@components/ui/Table/TableCell.astro";
---

<DocLayout 
  title="Alert Component" 
  description="Documentation du composant Alert pour afficher des messages d'information, succ√®s, avertissement et erreur"
  variant="initial"
>
  <h1 id="alert-component">Alert Component</h1>
  
  <p>
    Le composant <code class="inline-code">Alert</code> permet d'afficher des messages contextuels 
    avec diff√©rents niveaux de s√©v√©rit√©, ic√¥nes, mode dismissible et auto-fermeture.
  </p>

  <h2 id="demo-interactive">üéÆ D√©mo Interactive</h2>
  
  <div class="demo-section">
    <button class="demo-btn" onclick="document.getElementById('demo-info').style.display='flex'">Info</button>
    <button class="demo-btn" onclick="document.getElementById('demo-success').style.display='flex'">Success</button>
    <button class="demo-btn" onclick="document.getElementById('demo-warning').style.display='flex'">Warning</button>
    <button class="demo-btn" onclick="document.getElementById('demo-danger').style.display='flex'">Danger</button>
    <button class="demo-btn" onclick="document.getElementById('demo-dismissible').style.display='flex'">Dismissible</button>
  </div>
  
  <div class="demo-container">
    <div id="demo-info" class="demo-alert">
      <AlertComponent status="info" title="Information" message="Ceci est un message informatif." />
    </div>
    <div id="demo-success" class="demo-alert">
      <AlertComponent status="success" title="Succ√®s !" message="L'op√©ration a √©t√© effectu√©e avec succ√®s." />
    </div>
    <div id="demo-warning" class="demo-alert">
      <AlertComponent status="warning" title="Attention" message="Veuillez v√©rifier vos donn√©es." />
    </div>
    <div id="demo-danger" class="demo-alert">
      <AlertComponent status="danger" title="Erreur" message="Une erreur critique s'est produite." />
    </div>
    <div id="demo-dismissible" class="demo-alert">
      <AlertComponent status="success" title="Dismissible" message="Vous pouvez fermer cette alerte." dismissible />
    </div>
  </div>

  <h2 id="installation">Installation</h2>
  
  <p>Le composant est disponible dans <code class="inline-code">src/components/ui/Alert.astro</code></p>
  
  <Code
    lang="typescript"
    code={`import Alert from '@components/ui/Alert.astro';`}
  />

  <h2 id="props">Props</h2>

  <div class="props-table">
    <Table striped>
      <TableHeader>
        <TableRow>
          <TableHead>Prop</TableHead>
          <TableHead>Type</TableHead>
          <TableHead>D√©faut</TableHead>
          <TableHead>Description</TableHead>
        </TableRow>
      </TableHeader>
      <TableBody>
        <TableRow>
          <TableCell><code class="inline-code">variant</code></TableCell>
          <TableCell>initial | retro | modern | futuristic</TableCell>
          <TableCell>initial</TableCell>
          <TableCell>Style visuel de l'alerte</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code class="inline-code">status</code></TableCell>
          <TableCell>info | success | warning | danger | error</TableCell>
          <TableCell>info</TableCell>
          <TableCell>Niveau de s√©v√©rit√©</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code class="inline-code">title</code></TableCell>
          <TableCell>string</TableCell>
          <TableCell>-</TableCell>
          <TableCell>Titre de l'alerte</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code class="inline-code">message</code></TableCell>
          <TableCell>string</TableCell>
          <TableCell>-</TableCell>
          <TableCell>Message de l'alerte</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code class="inline-code">icon</code></TableCell>
          <TableCell>string</TableCell>
          <TableCell>auto</TableCell>
          <TableCell>Ic√¥ne personnalis√©e (sinon ic√¥ne par d√©faut selon status)</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code class="inline-code">dismissible</code></TableCell>
          <TableCell>boolean</TableCell>
          <TableCell>false</TableCell>
          <TableCell>Affiche un bouton de fermeture</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code class="inline-code">className</code></TableCell>
          <TableCell>string</TableCell>
          <TableCell>-</TableCell>
          <TableCell>Classes CSS suppl√©mentaires</TableCell>
        </TableRow>
      </TableBody>
    </Table>
  </div>

  <h2 id="exemples-basiques">Exemples basiques</h2>

  <h3 id="statuts">Diff√©rents statuts</h3>
  
  <AlertComponent status="info" message="Ceci est une information importante." />
  <AlertComponent status="success" message="Op√©ration r√©ussie avec succ√®s !" />
  <AlertComponent status="warning" message="Attention, cette action est irr√©versible." />
  <AlertComponent status="danger" message="Une erreur critique s'est produite." />

  <Code
    lang="astro"
    code={`<Alert status="info" message="Ceci est une information importante." />
<Alert status="success" message="Op√©ration r√©ussie avec succ√®s !" />
<Alert status="warning" message="Attention, cette action est irr√©versible." />
<Alert status="danger" message="Une erreur critique s'est produite." />`}
  />

  <h3 id="avec-titre">Avec titre</h3>
  
  <AlertComponent 
    status="info" 
    title="Information"
    message="Consultez la documentation pour plus de d√©tails."
  />
  <AlertComponent 
    status="success" 
    title="Succ√®s"
    message="Votre fichier a √©t√© t√©l√©charg√© correctement."
  />

  <Code
    lang="astro"
    code={`<Alert 
  status="info" 
  title="Information"
  message="Consultez la documentation pour plus de d√©tails."
/>`}
  />

  <h3 id="avec-slot">Avec contenu personnalis√© (slot)</h3>
  
  <AlertComponent status="info">
    Utilisez le <strong>slot</strong> pour du contenu HTML personnalis√© avec <em>formatage</em>.
  </AlertComponent>

  <Code
    lang="astro"
    code={`<Alert status="info">
  Utilisez le <strong>slot</strong> pour du contenu HTML personnalis√©.
</Alert>`}
  />

  <h2 id="variants">Variants</h2>

  <h3 id="variant-initial">Initial (Default)</h3>
  
  <AlertComponent status="info" message="Information - variant initial" />
  <AlertComponent status="success" message="Succ√®s - variant initial" />
  <AlertComponent status="warning" message="Avertissement - variant initial" />
  <AlertComponent status="danger" message="Erreur - variant initial" />

  <Code
    lang="astro"
    code={`<Alert status="success" message="Succ√®s - variant initial" />`}
  />

  <h3 id="variant-retro">Retro</h3>
  
  <AlertComponent variant="retro" status="info" message="Information - style r√©tro" />
  <AlertComponent variant="retro" status="success" message="Succ√®s - style r√©tro" />
  <AlertComponent variant="retro" status="warning" message="Avertissement - style r√©tro" />
  <AlertComponent variant="retro" status="danger" message="Erreur - style r√©tro" />

  <Code
    lang="astro"
    code={`<Alert variant="retro" status="success" message="Succ√®s - style r√©tro" />`}
  />

  <h3 id="variant-modern">Modern</h3>
  
  <AlertComponent variant="modern" status="info" message="Information - style moderne" />
  <AlertComponent variant="modern" status="success" message="Succ√®s - style moderne" />
  <AlertComponent variant="modern" status="warning" message="Avertissement - style moderne" />
  <AlertComponent variant="modern" status="danger" message="Erreur - style moderne" />

  <Code
    lang="astro"
    code={`<Alert variant="modern" status="success" message="Succ√®s - style moderne" />`}
  />

  <h3 id="variant-futuristic">Futuristic</h3>
  
  <AlertComponent variant="futuristic" status="info" message="Information - style futuriste" />
  <AlertComponent variant="futuristic" status="success" message="Succ√®s - style futuriste" />
  <AlertComponent variant="futuristic" status="warning" message="Avertissement - style futuriste" />
  <AlertComponent variant="futuristic" status="danger" message="Erreur - style futuriste" />

  <Code
    lang="astro"
    code={`<Alert variant="futuristic" status="success" message="Succ√®s - style futuriste" />`}
  />

  <h2 id="avec-icones">Avec ic√¥nes personnalis√©es</h2>
  
  <AlertComponent 
    status="info" 
    icon="mdi:lightbulb" 
    message="Astuce : utilisez des ic√¥nes personnalis√©es pour plus de clart√©."
  />
  <AlertComponent 
    status="success" 
    icon="mdi:rocket" 
    message="D√©ploiement r√©ussi !"
  />
  <AlertComponent 
    status="warning" 
    icon="mdi:shield-alert" 
    message="Mise √† jour de s√©curit√© disponible."
  />

  <Code
    lang="astro"
    code={`<Alert 
  status="info" 
  icon="mdi:lightbulb" 
  message="Astuce : utilisez des ic√¥nes personnalis√©es."
/>`}
  />

  <h2 id="dismissible">Alertes dismissible</h2>

  <p>Les alertes peuvent √™tre ferm√©es par l'utilisateur avec la prop <code class="inline-code">dismissible</code>.</p>
  
  <AlertComponent 
    status="info" 
    title="Information"
    message="Cliquez sur la croix pour fermer cette alerte."
    dismissible
  />
  <AlertComponent 
    status="success" 
    message="Votre profil a √©t√© mis √† jour."
    dismissible
  />

  <Code
    lang="astro"
    code={`<Alert 
  status="info" 
  title="Information"
  message="Cliquez sur la croix pour fermer cette alerte."
  dismissible
/>`}
  />

  <h2 id="cas-usage">Cas d'usage</h2>

  <h3 id="notification-succes">Notification de succ√®s</h3>
  
  <AlertComponent 
    variant="modern"
    status="success" 
    title="Inscription r√©ussie"
    message="Bienvenue ! Un email de confirmation a √©t√© envoy√© √† votre adresse."
    dismissible
  />

  <Code
    lang="astro"
    code={`<Alert 
  variant="modern"
  status="success" 
  title="Inscription r√©ussie"
  message="Bienvenue ! Un email de confirmation a √©t√© envoy√©."
  dismissible
/>`}
  />

  <h3 id="message-erreur">Message d'erreur</h3>
  
  <AlertComponent 
    status="danger" 
    title="Erreur de connexion"
    message="Impossible de se connecter au serveur. Veuillez r√©essayer plus tard."
  />

  <Code
    lang="astro"
    code={`<Alert 
  status="danger" 
  title="Erreur de connexion"
  message="Impossible de se connecter au serveur."
/>`}
  />

  <h3 id="avertissement">Avertissement important</h3>
  
  <AlertComponent 
    variant="retro"
    status="warning" 
    title="Action requise"
  >
    Votre abonnement expire dans <strong>3 jours</strong>. 
    <a href="/subscribe">Renouveler maintenant</a> pour continuer √† profiter de nos services.
  </AlertComponent>

  <Code
    lang="astro"
    code={`<Alert 
  variant="retro"
  status="warning" 
  title="Action requise"
>
  Votre abonnement expire dans <strong>3 jours</strong>. 
  <a href="/subscribe">Renouveler maintenant</a>.
</Alert>`}
  />

  <h3 id="information-systeme">Information syst√®me</h3>
  
  <AlertComponent 
    variant="futuristic"
    status="info" 
    icon="mdi:update"
    title="Mise √† jour disponible"
    message="Une nouvelle version de l'application est disponible. Cliquez pour installer."
  />

  <Code
    lang="astro"
    code={`<Alert 
  variant="futuristic"
  status="info" 
  icon="mdi:update"
  title="Mise √† jour disponible"
  message="Une nouvelle version est disponible."
/>`}
  />

  <h2 id="accessibilite">Accessibilit√©</h2>

  <ul>
    <li>L'attribut <code class="inline-code">role="alert"</code> est automatiquement ajout√©</li>
    <li>Les lecteurs d'√©cran annoncent les alertes importantes</li>
    <li>Le bouton de fermeture a un label "Fermer l'alerte"</li>
    <li>Les ic√¥nes sont d√©coratives et n'affectent pas la lisibilit√©</li>
    <li>Les couleurs respectent les contrastes WCAG</li>
  </ul>

  <h2 id="bonnes-pratiques">Bonnes pratiques</h2>

  <ul>
    <li>Utilisez <code class="inline-code">status="info"</code> pour les informations g√©n√©rales</li>
    <li>Utilisez <code class="inline-code">status="success"</code> pour confirmer une action r√©ussie</li>
    <li>Utilisez <code class="inline-code">status="warning"</code> pour les avertissements non bloquants</li>
    <li>Utilisez <code class="inline-code">status="danger"</code> pour les erreurs critiques</li>
    <li>Ajoutez un titre pour les messages importants</li>
    <li>Utilisez <code class="inline-code">dismissible</code> pour les alertes non critiques</li>
    <li>Gardez les messages courts et actionnables</li>
    <li>√âvitez d'afficher trop d'alertes simultan√©ment</li>
  </ul>

</DocLayout>