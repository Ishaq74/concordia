---
import DocLayout from "@layouts/DocLayout.astro";
import Table from "@components/ui/Table/Table.astro";
import TableHeader from "@components/ui/Table/TableHeader.astro";
import TableBody from "@components/ui/Table/TableBody.astro";
import TableRow from "@components/ui/Table/TableRow.astro";
import TableHead from "@components/ui/Table/TableHead.astro";
import TableCell from "@components/ui/Table/TableCell.astro";
import { Code as CodeBlock } from "astro:components";

const exampleJavaScript = `function greet(name) {
  console.log(\`Hello, \${name}!\`);
  return \`Welcome, \${name}!\`;
}

greet('World');`;

const exampleTypeScript = `interface User {
  id: number;
  name: string;
  email: string;
}

function createUser(data: Partial<User>): User {
  return {
    id: Date.now(),
    name: data.name || 'Anonymous',
    email: data.email || 'no-email@example.com'
  };
}`;

const exampleHTML = `<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Ma Page</title>
</head>
<body>
  <h1>Bonjour le monde!</h1>
</body>
</html>`;

const exampleCSS = `.card {
  padding: var(--space-4);
  background: var(--color-surface);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-sm);
}`;
---

<DocLayout 
  title="Code Component" 
  description="How to use Astro's native Code component with Shiki for syntax highlighting"
  variant="initial"
>
  <h1 id="code-component">Code Component</h1>
  
  <p>
    Astro provides a built-in <code class="inline-code">Code</code> component with Shiki for syntax highlighting.
  </p>

  <h2 id="installation">Installation</h2>
  
  <p>The component is available directly from <code class="inline-code">astro:components</code>:</p>

  <CodeBlock 
    code={`import { Code } from "astro:components";`}
    lang="typescript"
  />

  <h2 id="props">Props</h2>

  <div class="props-table">
    <Table striped>
      <TableHeader>
        <TableRow>
          <TableHead>Prop</TableHead>
          <TableHead>Type</TableHead>
          <TableHead>Default</TableHead>
          <TableHead>Description</TableHead>
        </TableRow>
      </TableHeader>
      <TableBody>
        <TableRow>
          <TableCell><code class="inline-code">code</code></TableCell>
          <TableCell>string</TableCell>
          <TableCell>-</TableCell>
          <TableCell>Code to display (required)</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code class="inline-code">lang</code></TableCell>
          <TableCell>string</TableCell>
          <TableCell>plaintext</TableCell>
          <TableCell>Programming language</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code class="inline-code">theme</code></TableCell>
          <TableCell>string</TableCell>
          <TableCell>github-dark</TableCell>
          <TableCell>Shiki theme</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code class="inline-code">wrap</code></TableCell>
          <TableCell>boolean</TableCell>
          <TableCell>false</TableCell>
          <TableCell>Enable line wrapping</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code class="inline-code">inline</code></TableCell>
          <TableCell>boolean</TableCell>
          <TableCell>false</TableCell>
          <TableCell>Inline display</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code class="inline-code">transformers</code></TableCell>
          <TableCell>array</TableCell>
          <TableCell>[]</TableCell>
          <TableCell>Shiki transformers</TableCell>
        </TableRow>
      </TableBody>
    </Table>
  </div>

  <h2 id="examples">Examples</h2>

  <h3 id="basic-usage">Basic usage</h3>
  
  <CodeBlock 
    code={exampleJavaScript}
    lang="javascript"
  />

  <h3 id="typescript">TypeScript</h3>
  
  <CodeBlock 
    code={exampleTypeScript}
    lang="typescript"
  />

  <h3 id="html">HTML</h3>
  
  <CodeBlock 
    code={exampleHTML}
    lang="html"
  />

  <h3 id="css">CSS</h3>
  
  <CodeBlock 
    code={exampleCSS}
    lang="css"
  />

  <h3 id="inline-code">Inline code</h3>
  
  <p>
    Use <CodeBlock code="const x = 42" lang="javascript" inline /> for inline code.
  </p>

  <h3 id="themes">Shiki themes</h3>
  
  <h4>GitHub Dark (default)</h4>
  <CodeBlock 
    code={exampleJavaScript}
    lang="javascript"
    theme="github-dark"
  />

  <h4>GitHub Light</h4>
  <CodeBlock 
    code={exampleJavaScript}
    lang="javascript"
    theme="github-light"
  />

  <h4>Dracula</h4>
  <CodeBlock 
    code={exampleJavaScript}
    lang="javascript"
    theme="dracula"
  />

  <h4>Nord</h4>
  <CodeBlock 
    code={exampleJavaScript}
    lang="javascript"
    theme="nord"
  />

  <h3 id="line-wrapping">Line wrapping</h3>
  
  <CodeBlock 
    code={exampleJavaScript}
    lang="javascript"
    wrap={true}
  />

  <h2 id="resources">Resources</h2>
  
  <ul>
    <li><a href="https://docs.astro.build/en/reference/api-reference/#code-" target="_blank">Astro Code documentation</a></li>
    <li><a href="https://shiki.style/" target="_blank">Shiki documentation</a></li>
    <li><a href="https://shiki.style/themes" target="_blank">Shiki themes</a></li>
    <li><a href="https://shiki.style/languages" target="_blank">Supported languages</a></li>
  </ul>

</DocLayout>